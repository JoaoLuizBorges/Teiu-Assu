# 2025-09-19

## Ponderações de protocolos de comunicação

### Conjunto Microcontrolador

Visando aproveitar de velocidade e poder computacional junto de várias interfaces UART disponíveis para utilização o **Conjunto Microcontrolador** será composto por um *ESP32* e um *Arduino Mega 2560*.

Os dois utlizarão do protocolo de comunicação *UART* para se comunicar, devido a sua simplicidade, largo uso e eficiência.

No lado do ESP32 a única interface UART disponível será usada nesse processo. Já que o modelo ESP32 utilizado no projeto (*ESP32 30 pinos*) usa do UART0 para compilação de códigos e o UART1 para conexão com a memória FLASH, nos restando somente o UART2.

Enquanto que do lado do Arduino Mega há disponíveis quatro interfaces UART, sendo que a UART0 (TX0 & RX0) também está vinculada aqui, a compilação de códigos. Sobrando para nós três interfaces UART, seus usos e ocupações serão definidas mais abaixo.

### Modem LoRa

O ESP32 irá se conectar com o Modem LoRa via protocolo de comunicação SPI. Estabelecendo assim, uma rede WAN com um outro ESP32 e Modem LoRa conectados via USB em um computador, possibilitando assim, o controle remoto do robô.

### LiDAR 360°

Um sensor LiDAR será implementado no *Sistema Anti-Colisão* medindo constantemente a distância de obstáculos ao redor do robô. O sensor irá conectar em uma das interfaces UART do Arduino Mega, a UART2,  digamos. **_Posteriormente iremos detalhar os sistemas que integram o robô._**

### Módulo GNSS

O robô usará de um módulo GNSS para registrar suas coordenadas em um arquivo sendo implementado no *Sistema Event-Logger*. Teiu irá usar do GNSS Beidou. Além disso, esses dados serão enviados para o sensor montado, no caso do projeto atual, será um LiDAR 3D. A comunicação com o módulo GNSS será feita usando a interface UART3 do Arduino. **_Posteriormente iremos detalhar o sensor do projeto atual e propostas futuras._**

### Módulo Cartão SD

O que irá possibilitar a criação de um logger dos eventos do robô é o módulo cartão SD. Que irá receber os dados  e criar dentro de um cartão SD o arquivo. O Módulo cartão SD irá implementar o protocolo de comunicação SPI com o Arduino.